<!-- Main Order Card -->
<div class="container py-5" [class.blur]="showOrderSuccessModal">
  <div class="card shadow rounded-4 border-0 mx-auto" style="max-width: 600px;">
    <div class="card-header bg-gradient text-black text-center py-3 rounded-top-4"
         style="background: linear-gradient(90deg, #007bff, #00c6ff);">
      <h3 class="mb-0">ðŸ§¾ Confirm Your Order</h3>
    </div>

    <div class="card-body p-4">
      <div class="mb-3">
        <label class="form-label fw-semibold">Food Item</label>
        <div style="font-size: 22px; font-style: italic;">
          <strong>{{ foodToOrder.foodName }}</strong>
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label text-muted fw-semibold">Price</label>
        <div class="fs-6">â‚¹ {{ foodToOrder.price }}</div>
      </div>

      <div class="mb-3">
        <label for="quantity" class="form-label text-muted fw-semibold">Quantity</label>
        <input type="number" class="form-control rounded-pill" id="quantity"
               [(ngModel)]="quantity"
               [min]="1" [max]="foodToOrder.stockQuantity"
               (input)="calculateTotalPrice()" />
        <small class="text-danger" *ngIf="quantity <= 0 || quantity > foodToOrder.stockQuantity">
          Quantity must be between 1 and {{ foodToOrder.stockQuantity }}.
        </small>
      </div>

      <div class="mb-3">
        <label class="form-label text-muted fw-semibold">Total Price</label>
        <div class="fs-6"><strong>â‚¹ {{ totalPrice }}</strong></div>
      </div>

      <div class="mb-3">
        <label class="form-label text-muted fw-semibold">Order Date</label>
        <div class="fs-6">{{ orderDate }}</div>
      </div>

      <div class="d-flex justify-content-end gap-2 mt-4">
        <button class="btn btn-success px-4 rounded-pill"
                [disabled]="quantity <= 0 || quantity > foodToOrder.stockQuantity"
                (click)="confirmOrder()">
          âœ… Confirm
        </button>
        <button class="btn btn-outline-secondary px-4 rounded-pill" (click)="cancelOrder()">
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Order Success Modal -->
<div class="modal fade show d-block" tabindex="-1" *ngIf="showOrderSuccessModal"
     style="background-color: rgba(0, 0, 0, 0.5);">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content border-0 rounded-4 shadow">
      <div class="modal-header bg-success text-white border-0 rounded-top-4">
        <h5 class="modal-title w-100 text-center">ðŸŽ‰ Order Placed</h5>
      </div>
      <div class="modal-body text-center py-4">
        <p class="mb-4">Your order has been placed successfully!</p>
        <button class="btn btn-success rounded-pill px-4" (click)="closeModal()">OK</button>
      </div>
    </div>
  </div>
</div>